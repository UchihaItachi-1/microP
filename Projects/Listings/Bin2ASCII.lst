A51 MACRO ASSEMBLER  BIN2ASCII                                                            08/20/2019 15:02:55 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\Bin2ASCII.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE ..\Codes\Bin2ASCII.asm SET(SMALL) DEBUG PRINT(.\Listings\Bin2ASCII.lst)
                       OBJECT(.\Objects\Bin2ASCII.obj) EP

LOC  OBJ            LINE     SOURCE

0000                   1     org 0000h
0000 0200BD            2     ljmp main
0050                   3     org 0050h
                       4     
0050                   5     bin2ascii:              
                       6             using 1
0050 E540              7                     mov  A,   0x40
0052 54F0              8                     anl  A,  #0xF0
0054 FB                9                     mov  R3, A
                      10                     
0055 E540             11                     mov  A,  0x40
0057 540F             12                     anl  A,  #0x0F
0059 FC               13                     mov  R4, A
                      14                     
005A EB               15                     mov  A,  R3
005B 03               16                     rr   A
005C 03               17                     rr   A
005D 03               18                     rr   A
005E 03               19                     rr   A
005F FB               20                     mov  R3, A
0060 75F00A           21                     mov  B,  #0x0A
0063 84               22                     div  AB
0064 B40005           23                     cjne A,  #0x00, CP1
0067 EB               24                     mov  A,  R3
0068 2430             25                     add  A,  #0x30
006A 8003             26                     sjmp CP2
006C EB               27     CP1:    mov  A,  R3
006D 2437             28                     add  A,  #0x37
006F F520             29     CP2:    mov  0x20, A
                      30     
0071 EC               31                     mov  A,  R4
0072 75F00A           32                     mov  B,  #0x0A
0075 84               33                     div  AB
0076 B40005           34                     cjne A,  #0x00, CP3
0079 EC               35                     mov  A,  R4
007A 2430             36                     add  A,  #0x30
007C 8003             37                     sjmp CP4
007E EC               38     CP3:    mov  A,  R4
007F 2437             39                     add  A,  #0x37
0081 F521             40     CP4:    mov  0x21, A
0083 22               41     ret
                      42     
0084                  43     bin2ascii_checksumbyte:
                      44             using 0
0084 A850             45                     mov  R0,  0x50
0086 A951             46                     mov  R1,  0x51
0088 E4               47                     clr  A
0089 27               48     CP5:    add  A,   @R1
008A 09               49                     inc  R1
008B D8FC             50                     djnz R0,  CP5
008D F540             51                     mov 0x40, A
                      52                     
008F 120050           53                     lcall bin2ascii
                      54             using 0
0092 AB20             55                     mov  R3,  0x20
0094 AC21             56                     mov  R4,  0x21
0096 A852             57                     mov  R0,  0x52
A51 MACRO ASSEMBLER  BIN2ASCII                                                            08/20/2019 15:02:55 PAGE     2

0098 EB               58                     mov  A,  R3
0099 F6               59                     mov @R0, A
009A EC               60                     mov  A,  R4
009B 08               61                     inc  R0
009C F6               62                     mov @R0, A
009D 22               63     ret
                      64     
009E                  65     init:
009E 755005           66                     mov 0x50, #0x05
00A1 755160           67                     mov 0x51, #0x60
00A4 755273           68                     mov 0x52, #0x73
                      69                     
00A7 756021           70                     mov 0x60, #0x21
00AA 756157           71                     mov 0x61, #0x57
00AD 75623D           72                     mov 0x62, #0x3D
00B0 75638B           73                     mov 0x63, #0x8B
00B3 756412           74                     mov 0x64, #0x12
00B6 75654A           75                     mov 0x65, #0x4A
00B9 756626           76                     mov 0x66, #0x26
00BC 22               77     ret
                      78     
00BD 12009E           79     main:   lcall init
00C0 120084           80                     lcall bin2ascii_checksumbyte
00C3 80FE             81     here:   sjmp  here
                      82     end
A51 MACRO ASSEMBLER  BIN2ASCII                                                            08/20/2019 15:02:55 PAGE     3

SYMBOL TABLE LISTING
------ ----- -------


N A M E                 T Y P E  V A L U E   ATTRIBUTES

B. . . . . . . . . . .  D ADDR   00F0H   A   
BIN2ASCII. . . . . . .  C ADDR   0050H   A   
BIN2ASCII_CHECKSUMBYTE  C ADDR   0084H   A   
CP1. . . . . . . . . .  C ADDR   006CH   A   
CP2. . . . . . . . . .  C ADDR   006FH   A   
CP3. . . . . . . . . .  C ADDR   007EH   A   
CP4. . . . . . . . . .  C ADDR   0081H   A   
CP5. . . . . . . . . .  C ADDR   0089H   A   
HERE . . . . . . . . .  C ADDR   00C3H   A   
INIT . . . . . . . . .  C ADDR   009EH   A   
MAIN . . . . . . . . .  C ADDR   00BDH   A   


REGISTER BANK(S) USED: 0 1 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
