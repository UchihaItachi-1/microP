A51 MACRO ASSEMBLER  INNERPRODUCT                                                         08/27/2019 15:18:38 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\InnerProduct.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE ..\Codes\InnerProduct.asm SET(SMALL) DEBUG PRINT(.\Listings\InnerProduc
                      t.lst) OBJECT(.\Objects\InnerProduct.obj) EP

LOC  OBJ            LINE     SOURCE

0000                   1     org  0000h
0000 020277            2     ljmp main
0200                   3     org  0200h
                       4     
0200                   5     init:                                                   ;Reserves 0x50, 0x51, 0x52, 0x53, 0
                             x60, 0x61, 0x62, 0x63, 0x64, 0x70, 0x71, 0x72, 0x73, 0x74
0200 755060            6                     mov 0x50, #0x60         ;0x50   -       location of x1
0203 755170            7                     mov 0x51, #0x70         ;0x51   -       location of y1
0206 755206            8                     mov 0x52, #0x06         ;0x52   -       length   of vectors
0209 75537F            9                     mov 0x53, #0x7F         ;0x53   -       location of storage
020C 756004           10                     mov 0x60, #0x04
020F 756107           11                     mov 0x61, #0x07
0212 756209           12                     mov 0x62, #0x09
0215 75630B           13                     mov 0x63, #0x0B
0218 75640C           14                     mov 0x64, #0x0C
021B 756502           15                     mov 0x65, #0x02
021E 757005           16                     mov 0x70, #0x05
0221 757109           17                     mov 0x71, #0x09
0224 75720C           18                     mov 0x72, #0x0C
0227 75730D           19                     mov 0x73, #0x0D
022A 757404           20                     mov 0x74, #0x04
022D 75750F           21                     mov 0x75, #0x0F
0230 22               22     ret
                      23     
0231                  24     adder_16bit:                                    ;Reserves 0x30, 0x31, 0x32, 0x33, 0x34, 0x3
                             5, 0x36
0231 E531             25                     mov  A,    0x31         ;0x31   -       LSB1
0233 2533             26                     add  A,    0x33         ;0x33   -       LSB2
0235 F536             27                     mov  0x36, A            ;0x36   -       LSBY
0237 E530             28                     mov  A,    0x30         ;0x30   -       MSB1
0239 3532             29                     addc A,    0x32         ;0x32   -       MSB2
023B F535             30                     mov  0x35, A            ;0x35   -       MSBY
023D 7400             31                     mov  A,   #0x00
023F 3400             32                     addc A,   #0x00
0241 F534             33                     mov  0x34, A            ;0x34   -       C
0243 22               34     ret
                      35     
0244                  36     inner_product:
0244 7AFF             37                     mov  R2, #0xFF          ;R2 stores the value of i
0246 7D00             38                     mov  R5, #0x00          ;R5 stores LSB of cumulative sum
0248 7C00             39                     mov  R4, #0x00          ;R5 stores MSB of cumulative sum
024A 0A               40     CP1:    inc  R2
024B A850             41                     mov  R0,  0x50
024D E8               42                     mov  A,   R0
024E 2A               43                     add  A,   R2
024F F8               44                     mov  R0,  A
0250 E6               45                     mov  A,  @R0
0251 F5F0             46                     mov  B,   A                     ;B stores x_i
                      47                     
0253 A851             48                     mov  R0,  0x51
0255 E8               49                     mov  A,   R0
0256 2A               50                     add  A,   R2
0257 F8               51                     mov  R0,  A
0258 E6               52                     mov  A,  @R0
0259 FE               53                     mov  R6,  A                     ;A stores y_i
                      54                     
025A A4               55                     mul  AB
A51 MACRO ASSEMBLER  INNERPRODUCT                                                         08/27/2019 15:18:38 PAGE     2

025B F531             56                     mov  0x31, A
025D 85F030           57                     mov  0x30, B
0260 8D33             58                     mov  0x33, R5
0262 8C32             59                     mov  0x32, R4
0264 120231           60                     lcall adder_16bit
0267 AD36             61                     mov  R5, 0x36
0269 AC35             62                     mov  R4, 0x35
026B EA               63                     mov  A,  R2
026C B552DB           64                     cjne A,  0x52, CP1
                      65                     
026F EC               66                     mov  A,   R4
0270 2D               67                     add  A,   R5
0271 A853             68                     mov  R0,  0x53
0273 F6               69                     mov @R0,  A
0274 F590             70                     mov  P1,  A
0276 22               71     ret
                      72     
0277 120200           73     main:   lcall init
027A 120244           74                     lcall inner_product
027D 80FE             75     here:   sjmp  here
                      76     end
A51 MACRO ASSEMBLER  INNERPRODUCT                                                         08/27/2019 15:18:38 PAGE     3

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

ADDER_16BIT. . . .  C ADDR   0231H   A   
B. . . . . . . . .  D ADDR   00F0H   A   
CP1. . . . . . . .  C ADDR   024AH   A   
HERE . . . . . . .  C ADDR   027DH   A   
INIT . . . . . . .  C ADDR   0200H   A   
INNER_PRODUCT. . .  C ADDR   0244H   A   
MAIN . . . . . . .  C ADDR   0277H   A   
P1 . . . . . . . .  D ADDR   0090H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
