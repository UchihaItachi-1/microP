A51 MACRO ASSEMBLER  CONVOLUTION                                                          08/27/2019 04:03:06 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\Convolution.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE ..\Codes\Convolution.asm SET(SMALL) DEBUG PRINT(.\Listings\Convolution.
                      lst) OBJECT(.\Objects\Convolution.obj) EP

LOC  OBJ            LINE     SOURCE

0000                   1     org  0000h
0000 02028B            2     ljmp main
0200                   3     org  0200h
                       4     
0200                   5     init_1:                                                 ;Reserves 0x40, 0x41, 0x42, 0x43, 0
                             x44, 0x45, 0x46, 0x47, 0x50, 0x51, 0x52
0200 755040            6                     mov 0x50, #0x40         ;0x50   -       location of x1
0203 755145            7                     mov 0x51, #0x45         ;0x51   -       location of y1
0206 755260            8                     mov 0x52, #0x60         ;0x52   -       location of storage
0209 75400A            9                     mov 0x40, #0x0A
020C 754152           10                     mov 0x41, #0x52
020F 7542C6           11                     mov 0x42, #0xC6
0212 7545F9           12                     mov 0x45, #0xF9
0215 754608           13                     mov 0x46, #0x08
0218 7547D7           14                     mov 0x47, #0xD7
021B 22               15     ret
                      16     
021C                  17     init_2:                                                 ;Reserves 0x20, 0x21, 0x22, 0x23, 0
                             x24, 0x25, 0x26, 0x27, 0x28, 0x29
021C 752000           18                     mov 0x20, #0x00         ;0x20   -       0x00
021F 752100           19                     mov 0x21, #0x00         ;0x21   -       0x00
0222 A851             20                     mov  R0,   0x51
0224 E6               21                     mov  A,   @R0
0225 F522             22                     mov  0x22, A            ;0x22   -       y1
0227 08               23                     inc  R0
0228 E6               24                     mov  A,   @R0
0229 F523             25                     mov  0x23, A            ;0x23   -       y2
022B 08               26                     inc  R0
022C E6               27                     mov  A,   @R0
022D F524             28                     mov  0x24, A            ;0x24   -       y3
022F 752500           29                     mov 0x25, #0x00         ;0x25   -       0x00
0232 752600           30                     mov 0x26, #0x00         ;0x26   -       0x00
                      31                     
0235 A850             32                     mov  R0,   0x50
0237 8629             33                     mov  0x29, @R0          ;0x2C   -       x1
0239 08               34                     inc  R0
023A 8628             35                     mov  0x28, @R0          ;0x2B   -       x2
023C 08               36                     inc  R0
023D 8627             37                     mov  0x27, @R0          ;0x2A   -       x3
023F 22               38     ret
                      39     
0240                  40     adder_16bit:                                    ;Reserves 0x30, 0x31, 0x32, 0x33, 0x34, 0x3
                             5, 0x36
0240 E531             41                     mov  A,    0x31         ;0x31   -       LSB1
0242 2533             42                     add  A,    0x33         ;0x33   -       LSB2
0244 F536             43                     mov  0x36, A            ;0x36   -       LSBY
0246 E530             44                     mov  A,    0x30         ;0x30   -       MSB1
0248 3532             45                     addc A,    0x32         ;0x32   -       MSB2
024A F535             46                     mov  0x35, A            ;0x35   -       MSBY
024C 7400             47                     mov  A,   #0x00
024E 3400             48                     addc A,   #0x00
0250 F534             49                     mov  0x34, A            ;0x34   -       C
0252 22               50     ret
                      51     
0253                  52     convolution:
0253 7AFF             53                     mov  R2,  #0xFF
                      54                     
A51 MACRO ASSEMBLER  CONVOLUTION                                                          08/27/2019 04:03:06 PAGE     2

0255 0A               55     CP0:    inc  R2
0256 7D00             56                     mov  R5,  #0x00
0258 7C00             57                     mov  R4,  #0x00
025A 7BFF             58                     mov  R3,  #0xFF
025C 0B               59     CP1:    inc  R3
025D 7420             60                     mov  A,   #0x20
025F 2B               61                     add  A,    R3
0260 2A               62                     add  A,    R2
0261 F8               63                     mov  R0,   A
0262 86F0             64                     mov  B,   @R0
0264 7427             65                     mov  A,   #0x27
0266 2B               66                     add  A,    R3
0267 F8               67                     mov  R0,   A
0268 E6               68                     mov  A,   @R0
0269 A4               69                     mul  AB
026A F531             70                     mov  0x31, A
026C 85F030           71                     mov  0x30, B
026F 8D33             72                     mov  0x33, R5
0271 8C32             73                     mov  0x32, R4
0273 120240           74                     lcall adder_16bit
0276 AD36             75                     mov  R5,   0x36
0278 AC35             76                     mov  R4,   0x35
027A BB02DF           77                     cjne R3,  #0x02, CP1
027D EA               78                     mov  A,    R2
027E 23               79                     rl   A
027F 2552             80                     add  A,    0x52
0281 F8               81                     mov  R0,   A
0282 A635             82                     mov @R0,   0x35
0284 08               83                     inc  R0
0285 A636             84                     mov @R0,   0x36
0287 BA04CB           85                     cjne R2,  #0x04, CP0
028A 22               86     ret
                      87     
028B 120200           88     main:   lcall init_1
028E 12021C           89                     lcall init_2
0291 120253           90                     lcall convolution
0294 80FE             91     here:   sjmp here
                      92     end
A51 MACRO ASSEMBLER  CONVOLUTION                                                          08/27/2019 04:03:06 PAGE     3

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

ADDER_16BIT. . . .  C ADDR   0240H   A   
B. . . . . . . . .  D ADDR   00F0H   A   
CONVOLUTION. . . .  C ADDR   0253H   A   
CP0. . . . . . . .  C ADDR   0255H   A   
CP1. . . . . . . .  C ADDR   025CH   A   
HERE . . . . . . .  C ADDR   0294H   A   
INIT_1 . . . . . .  C ADDR   0200H   A   
INIT_2 . . . . . .  C ADDR   021CH   A   
MAIN . . . . . . .  C ADDR   028BH   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
